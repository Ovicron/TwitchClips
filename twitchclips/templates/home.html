{% extends 'layout.html' %}
{% block content %}

{% for post in posts %}
<div class="container-fluid text-center post-container">
    <h1 class='text-primary'> {{ post.title }} </h1>
    <h4>{{ post.body }}</h4>
    <p class="text-muted">Posted by <a class='text-info'
            href="{{ url_for('user_posts', username=post.author.username) }}">{{ post.author.username }}</a> on
        {{ post.date_posted.strftime('%m/%d/%Y - %I:%M %p') }}</p>
    {% if post.link == "NONE" %}
    <div class="vid-container d-flex justify-content-center">
        <video width="900" height="580" controls>
            <source src="{{ post.clip }}" type="video/mp4">
        </video>
    </div>
    {% elif post.clip == "NONE" %}
    <img class='img-fluid' id="user-image" src="{{ post.link }}">
    {% endif %}
</div>
<a href="{{ url_for('post_page', post_id=post.id) }}" class="btn btn btn-outline-primary ml-3">View All Comments</a>

<div class="like-count float-right">
    <!-- like count validation -->
    {% if post.likes|count <= 0 %}
    <h5 class='mt-3 font-weight-bold'>This post has no likes.</h5>
    {% elif post.likes|count <= 1 %}
    <h5 class='mt-3 font-weight-bold'>{{ post.likes|count }} Like</h5>
    {% else %}
    <h5 class='mt-3 font-weight-bold'>{{ post.likes|count }} Likes</h5>
    {% endif %}
</div>
<img src="../static/images/icons/favorite_border-black-24dp.svg" class='float-right mr-2 mt-3'>
<hr>
{% endfor %}

{% endblock content %}